<f:subview xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:c="http://java.sun.com/jstl/core"
  id="#{widget.id}">
  
	<link rel="stylesheet" type="text/css" href="#{contextPath}/css/jquery.gridster.css"/>
	<link rel="stylesheet" type="text/css" href="#{contextPath}/css/palette.css"/>

	<div id="#{widget.id}_palette" class="gridster">
	    <ul><!-- Will pe populated automatically -->
	    </ul>
	</div>
	<!--
	<div class="button" onclick="savePalette();">
  		Save
  	</div>
  	<div class="button" onclick="resetPalette();">
  		Cancel
  	</div>
		-->
	<script type="text/javascript" charset="utf-8">
	var nxClient = null;
	var currentDocumentId='#{currentDocument.id}';
	var parentWidgetId='#{widget.id}';
	var palette_margins_horizontal= #{nxu:test(!empty widgetProperty_margins_horizontal, widgetProperty_margins_horizontal, 10)}; 
	var palette_margins_vertical = #{nxu:test(!empty widgetProperty_margins_vertical, widgetProperty_margins_vertical, 10)};
	var palette_base_dimensions_width = #{nxu:test(!empty widgetProperty_base_dimensions_width, widgetProperty_base_dimensions_width, 100)};
	var palette_base_dimensions_heigth = #{nxu:test(!empty widgetProperty_base_dimensions_heigth, widgetProperty_base_dimensions_heigth, 100)};
	var palette_max_cols = #{nxu:test(!empty widgetProperty_max_cols, widgetProperty_max_cols, 10)};
	var palette_min_cols = #{nxu:test(!empty widgetProperty_min_cols, widgetProperty_min_cols, 10)};
	
	var customFieldXPath = "#{widgetProperty_docIDsField}";
	
	
	jQuery.noConflict();
	</script>
	<script src="#{contextPath}/bower_components/nuxeo/lib/jquery/nuxeo.js" type="text/javascript"></script>
	<script src="#{contextPath}/scripts/jquery.gridster.fix.js" type="text/javascript" charset="utf-8"></script>
	<script src="#{contextPath}/scripts/palette.js" type="text/javascript"></script>
</f:subview>

